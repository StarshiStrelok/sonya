<md-card class="main-card">
    <md-card-header>
        <md-card-title>Create new transport profile</md-card-title>
        <md-card-subtitle>Transport profile provided map preferences, 
            search and route settings</md-card-subtitle>
    </md-card-header>
    <form [formGroup]="transportProfileForm" novalidate>
        <md-card-content>
            <input type="number" hidden="true" formControlName="id"/>
            <md-input-container class="full-width">
                <input mdInput placeholder="Profile name" formControlName="name">
                <md-error *ngIf="transportProfileForm.get('name').hasError('required')">
                    Required
                </md-error>
                <md-error *ngIf="transportProfileForm.get('name').hasError('maxlength')">
                    Very long string, 100 characters maximum
                </md-error>
            </md-input-container>
            <hr class="divider"/>
            <md-card>
                <md-card-header>
                    <md-card-title>Map settings</md-card-title>
                </md-card-header>
                <md-card-content>
                    <md-grid-list cols="2" rowHeight="56px;">
                        <md-grid-tile>
                            <latitude-field label="South-west latitude"
                                            [(control)]="transportProfileForm.controls.southWestLat">
                            </latitude-field>
                        </md-grid-tile>
                        <md-grid-tile>
                            <longitude-field label="South-west longitude"
                                             [(control)]="transportProfileForm.controls.southWestLon">
                            </longitude-field>
                        </md-grid-tile>
                        <md-grid-tile>
                            <latitude-field label="North-east latitude"
                                            [(control)]="transportProfileForm.controls.northEastLat">
                            </latitude-field>
                        </md-grid-tile>
                        <md-grid-tile>
                            <longitude-field label="North-east longitude"
                                             [(control)]="transportProfileForm.controls.northEastLon">
                            </longitude-field>
                        </md-grid-tile>
                        <md-grid-tile>
                            <latitude-field label="Center map latitude"
                                            [(control)]="transportProfileForm.controls.centerLat">
                            </latitude-field>
                        </md-grid-tile>
                        <md-grid-tile>
                            <longitude-field label="Center map longitude"
                                             [(control)]="transportProfileForm.controls.centerLon">
                            </longitude-field>
                        </md-grid-tile>
                        <md-grid-tile>
                            <zoom-field label="Initial zoom (0 - 19)"
                                        [(control)]="transportProfileForm.controls.initialZoom">
                            </zoom-field>
                        </md-grid-tile>
                        <md-grid-tile>
                            <zoom-field label="Minimal map zoom (0 - 19)"
                                        [(control)]="transportProfileForm.controls.minZoom">
                            </zoom-field>
                        </md-grid-tile>
                    </md-grid-list>
                </md-card-content>
            </md-card>
            <md-card>
                <md-card-header>
                    <md-card-title>Define route types here</md-card-title>
                </md-card-header>
                <md-card-content>
                    <md-grid-list cols="5" rowHeight="56px;" *ngFor="let rp of routeProfiles"
                                  [formGroup]="rp">
                                  <input type="number" hidden="true" formControlName="id"/>
                        <md-grid-tile>
                            <md-input-container class="full-width">
                                <input mdInput placeholder="Route type name" formControlName="name">
                                <md-error *ngIf="rp.get('name').hasError('required')">
                                    Required
                                </md-error>
                                <md-error *ngIf="rp.get('name').hasError('maxlength')">
                                    Very long string, 30 characters maximum
                                </md-error>
                            </md-input-container>
                        </md-grid-tile>
                        <md-grid-tile>
                            <md-input-container>
                                <input mdInput placeholder="Average speed, km/h"
                                       formControlName="avgSpeed">
                                <md-error *ngIf="rp.get('avgSpeed').hasError('required')">
                                    Required
                                </md-error>
                                <md-error *ngIf="rp.get('avgSpeed').hasError('maxNumber')">
                                    Very high speed, 500 max
                                </md-error>
                                <md-error *ngIf="rp.get('avgSpeed').hasError('minNumber')">
                                    Very low speed, 1 min
                                </md-error>
                            </md-input-container>
                        </md-grid-tile>
                        <md-grid-tile>
                            <md-input-container>
                                <input mdInput placeholder="Routing service URL"
                                       formControlName="routingURL" type="url">
                                <md-error *ngIf="rp.get('routingURL').hasError('maxlength')">
                                    Very long string, 100 characters maximum
                                </md-error>
                                <md-error *ngIf="rp.get('routingURL').hasError('pattern')">
                                    Not valid URL
                                </md-error>
                            </md-input-container>
                        </md-grid-tile>
                        <md-grid-tile>
                            <md-input-container>
                                <input mdInput placeholder="Line color (HEX)"
                                       formControlName="lineColor">
                                <md-error *ngIf="rp.get('lineColor').hasError('maxlength')">
                                    Very long string, 10 characters maximum
                                </md-error>
                            </md-input-container>
                        </md-grid-tile>
                        <md-grid-tile>
                            <button md-mini-fab color="accent" (click)="removeRouteProfileGroup(rp)"
                                    mdTooltip="Remove" mdTooltipPosition="above">
                                <md-icon>close</md-icon></button>
                        </md-grid-tile>
                    </md-grid-list>
                </md-card-content>
                <md-card-actions>
                    <button md-mini-fab color="accent" (click)="addRouteProfileGroup()"
                            mdTooltip="Add route profile" mdTooltipPosition="above">
                        <md-icon>add</md-icon></button>
                </md-card-actions>
            </md-card>
        </md-card-content>
        <md-card-actions align="end">
            <button md-fab color="primary" (click)="onSubmit()" mdTooltip="Confirm" mdTooltipPosition="above">
                <md-icon>done</md-icon></button>
            <div class="vr"></div>
            <button md-fab color="primary" (click)="goBack()" mdTooltip="Close" mdTooltipPosition="above">
                <md-icon>close</md-icon></button>
        </md-card-actions>
    </form>
</md-card>