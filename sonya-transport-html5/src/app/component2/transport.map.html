<!DOCTYPE html>
<!--
Copyright (C) 2017 ss

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<md-sidenav-container>
    <md-sidenav #sidenav opened="true" mode="side"
        [ngClass]="{'tm-sidenav': !isMobile(), 'tm-sidenav-mobile': isMobile(), 'ss-shadow': true}">

        <geocoder [profile]="activeProfile" [layerEndpoint]="layerEndpoint"></geocoder>

        <search-tab [mapComponent]="component"></search-tab>

        <button md-mini-fab color="primary" class="tm-map-control" style="top: 20px; right: 20px"
                (click)="closeMenu()" *ngIf="isMenuOpen"
                mdTooltip="Hide" mdTooltipPosition="below">
            <md-icon>chevron_left</md-icon></button>

    </md-sidenav>

    <md-card class="tm-map">
        <md-card-content>
            <div #map>

            </div>
        </md-card-content>
    </md-card>

    <button md-fab color="primary" class="tm-map-control" style="top: 25px; left: 25px"
            (click)="openMenu()" *ngIf="!isMenuOpen"
            mdTooltip="Open control" mdTooltipPosition="below">
        <md-icon>widgets</md-icon></button>

    <md-fab-speed-dial class="tm-map-control" style="top: 25px; right: 25px;"
                       direction="left" (selectAction)="changeLanguage($event)">
        <md-fab-trigger>
            <img src="/assets/image/flag/england_32.png"><p>EN</p>
        </md-fab-trigger>

        <md-fab-actions>
            <md-fab-action>
                <md-icon>settings</md-icon>
            </md-fab-action>
        </md-fab-actions>
    </md-fab-speed-dial>

</md-sidenav-container>

<waiting></waiting>
